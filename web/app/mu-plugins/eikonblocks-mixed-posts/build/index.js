(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.data,o=window.wp.blockEditor,l=window.wp.components,s=window.wp.element,n=(0,a.withSelect)((e=>{const t=[{slug:"post",name:"Post"},{slug:"project",name:"Project"}],{getTaxonomies:a,getEntityRecords:o}=e("core"),l={},s={};return t.forEach((e=>{const t=e.slug,n=a({type:t})||[];l[t]=n,s[t]={},n.forEach((e=>{const a=e.slug,l=o("taxonomy",a,{per_page:-1})||[];s[t][a]=l}))})),{availableCPTs:t,availableTaxonomies:l,availableTerms:s}}))((function(e){const{attributes:a,setAttributes:n,availableCPTs:c,availableTaxonomies:i,availableTerms:m}=e,{selectedCPTsData:r={}}=a;return(0,t.createElement)("div",{...(0,o.useBlockProps)()},(0,t.createElement)("div",{className:"eikonblock-title"},"eikonblock // mixed posts"),(0,t.createElement)("div",null,(0,t.createElement)(l.SelectControl,{multiple:!0,label:"Select Post Types:",value:Object.keys(r),options:c.map((e=>({label:e.name,value:e.slug}))),onChange:e=>{const t={};e.forEach((e=>{t[e]=r[e]||{taxonomies:{}}})),n({selectedCPTsData:t})}})),Object.entries(r).map((([e,a])=>(0,t.createElement)(s.Fragment,{key:e},(0,t.createElement)("h4",null,e),(0,t.createElement)(l.SelectControl,{multiple:!0,label:"Select Taxonomies:",value:Object.keys(a.taxonomies),options:(i[e]||[]).map((e=>({label:e.name,value:e.slug}))),onChange:t=>{const o={...r};o[e].taxonomies={},t.forEach((t=>{o[e].taxonomies[t]=a.taxonomies[t]||[]})),n({selectedCPTsData:o})}}),Object.entries(a.taxonomies).map((([a,o])=>(0,t.createElement)(s.Fragment,{key:a},(0,t.createElement)("h5",null,a),(0,t.createElement)(l.SelectControl,{multiple:!0,label:`Select Terms for ${a}:`,value:o,options:(m[e][a]||[]).map((e=>({label:e.name,value:e.slug}))),onChange:t=>((e,t,a)=>{const o={...r};o[e].taxonomies||(o[e].taxonomies={}),o[e].taxonomies[t]=a,n({selectedCPTsData:o})})(e,a,t)}))))))),(0,t.createElement)("div",{className:"mixed-posts","data-cpt":JSON.stringify(r)}))})),c=JSON.parse('{"UU":"eikonblocks/mixedposts"}'),i=wp.element.createElement;i("svg",{width:24,height:24},i("path",{d:"M9 11H4V5h5v6Zm0 7H4v-6h5v6Zm1 0h5v-6h-5v6Zm11 0h-5v-6h5v6Zm-11-7h5V5h-5v6Zm6 0V5h5v6h-5Z"})),(0,e.registerBlockType)(c.UU,{edit:n,save:function({attributes:e}){const{selectedCPTsData:a}=e,l=JSON.stringify(a);return(0,t.createElement)("div",{...o.useBlockProps.save(),className:"wp-block-eikonblocks-mixed","data-cpt":l},l)}})})();