(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.data,l=window.wp.blockEditor,o=window.wp.components;window.wp.element;const n=(0,a.withSelect)((e=>{const t=[{slug:"post",name:"Article"},{slug:"project",name:"Project"}],{getTaxonomies:a,getEntityRecords:l}=e("core"),o={},n={};return t.forEach((e=>{const t=e.slug,s=a({type:t})||[];o[t]=s,n[t]={},s.forEach((e=>{const a=e.slug,o=l("taxonomy",a,{per_page:-1})||[];n[t][a]=o}))})),{availableCPTs:t,availableTaxonomies:o,availableTerms:n}}))((function(e){const{attributes:a,setAttributes:n,availableCPTs:s,availableTaxonomies:c,availableTerms:i}=e,{selectedCPTsData:m={}}=a;return(0,t.createElement)("div",{...(0,l.useBlockProps)()},(0,t.createElement)("div",{className:"eikonblock-title"},"eikonblock // mixed posts"),(0,t.createElement)("div",null,(0,t.createElement)(o.SelectControl,{multiple:!0,label:"Select Post Types:",value:Object.keys(m),options:s.map((e=>({label:e.name,value:e.slug}))),onChange:e=>{const t={};e.forEach((e=>{t[e]=m[e]||{taxonomies:{}}})),n({selectedCPTsData:t})}})),Object.entries(m).map((([e,a])=>(0,t.createElement)(o.Card,{key:e,style:{marginBottom:"16px"}},(0,t.createElement)(o.CardHeader,null,s.find((t=>t.slug===e))?.name),(0,t.createElement)(o.CardBody,null,(0,t.createElement)(o.SelectControl,{multiple:!0,label:"Select Taxonomies:",value:Object.keys(a.taxonomies),options:(c[e]||[]).map((e=>({label:e.name,value:e.slug}))),onChange:t=>{const l={...m};l[e].taxonomies={},t.forEach((t=>{l[e].taxonomies[t]=a.taxonomies[t]||[]})),n({selectedCPTsData:l})}}),Object.entries(a.taxonomies).map((([a,l])=>(0,t.createElement)(o.Card,{key:a,style:{marginBottom:"16px"}},(0,t.createElement)(o.CardHeader,null,c[e]?.find((e=>e.slug===a))?.name),(0,t.createElement)(o.CardBody,null,(0,t.createElement)(o.SelectControl,{multiple:!0,label:`Select Terms for ${c[e]?.find((e=>e.slug===a))?.name}:`,value:l,options:(i[e][a]||[]).map((e=>({label:e.name,value:e.slug}))),onChange:t=>((e,t,a)=>{const l={...m};l[e].taxonomies||(l[e].taxonomies={}),l[e].taxonomies[t]=a,n({selectedCPTsData:l})})(e,a,t)}))))))))),(0,t.createElement)("div",{className:"mixed-posts","data-cpt":JSON.stringify(m)}))})),s=JSON.parse('{"UU":"eikonblocks/mixedposts"}'),c=wp.element.createElement;c("svg",{width:24,height:24},c("path",{d:"M9 11H4V5h5v6Zm0 7H4v-6h5v6Zm1 0h5v-6h-5v6Zm11 0h-5v-6h5v6Zm-11-7h5V5h-5v6Zm6 0V5h5v6h-5Z"})),(0,e.registerBlockType)(s.UU,{edit:n,save:function({attributes:e}){const{selectedCPTsData:a}=e,o=JSON.stringify(a);return(0,t.createElement)("div",{...l.useBlockProps.save(),className:"wp-block-eikonblocks-mixed","data-cpt":o})}})})();